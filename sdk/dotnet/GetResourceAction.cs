// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace ediri.Azapi
{
    public static class GetResourceAction
    {
        /// <summary>
        /// This resource can perform resource action which gets information from an existing resource.
        /// It's recommended to use `azapi.ResourceAction` data source to perform readonly action, please use `azapi.ResourceAction` resource,
        /// if user wants to perform actions which change a resource's state.
        /// 
        /// ## Example Usage
        /// 
        /// ```hcl
        /// terraform {
        ///   required_providers {
        ///     azapi = {
        ///       source = "Azure/azapi"
        ///     }
        ///   }
        /// }
        /// 
        /// provider "azapi" {
        /// }
        /// 
        /// provider "azurerm" {
        ///   features {}
        /// }
        /// 
        /// resource "azurerm_resource_group" "example" {
        ///   name     = "example-rg"
        ///   location = "west europe"
        /// }
        /// 
        /// resource "azurerm_automation_account" "example" {
        ///   name                = "example-account"
        ///   resource_group_name = azurerm_resource_group.example.name
        ///   location            = azurerm_resource_group.example.location
        ///   sku_name            = "Basic"
        /// }
        /// 
        /// data "azapi_resource_action" "example" {
        ///   type                   = "Microsoft.Automation/automationAccounts@2021-06-22"
        ///   resource_id            = azurerm_automation_account.example.id
        ///   action                 = "listKeys"
        ///   response_export_values = ["*"]
        /// }
        /// ```
        /// 
        /// Here's an example to use the `azapi.ResourceAction` data source to get a provider's permissions.
        /// 
        /// ```hcl
        /// provider "azurerm" {
        ///   features {}
        /// }
        /// 
        /// data "azurerm_client_config" "current" {}
        /// 
        /// data "azapi_resource_action" "test" {
        ///   type        = "Microsoft.Resources/providers@2021-04-01"
        ///   resource_id = "/subscriptions/${data.azurerm_client_config.current.subscription_id}/providers/Microsoft.Network"
        ///   action      = "providerPermissions"
        ///   method      = "GET"
        /// }
        /// ```
        /// 
        /// Here's an example to use the `azapi.ResourceAction` data source to perform a provider action.
        /// 
        /// ```hcl
        /// terraform {
        ///   required_providers {
        ///     azapi = {
        ///       source = "Azure/azapi"
        ///     }
        ///   }
        /// }
        /// 
        /// resource "azapi_resource_action" "test" {
        ///   type        = "Microsoft.Cache@2023-04-01"
        ///   resource_id = "/subscriptions/85b3dbca-5974-4067-9669-67a141095a76/providers/Microsoft.Cache"
        ///   action      = "CheckNameAvailability"
        ///   body = jsonencode({
        ///     type = "Microsoft.Cache/Redis"
        ///     name = "cacheName"
        ///   })
        /// }
        /// ```
        /// </summary>
        public static Task<GetResourceActionResult> InvokeAsync(GetResourceActionArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetResourceActionResult>("azapi:index/getResourceAction:getResourceAction", args ?? new GetResourceActionArgs(), options.WithDefaults());

        /// <summary>
        /// This resource can perform resource action which gets information from an existing resource.
        /// It's recommended to use `azapi.ResourceAction` data source to perform readonly action, please use `azapi.ResourceAction` resource,
        /// if user wants to perform actions which change a resource's state.
        /// 
        /// ## Example Usage
        /// 
        /// ```hcl
        /// terraform {
        ///   required_providers {
        ///     azapi = {
        ///       source = "Azure/azapi"
        ///     }
        ///   }
        /// }
        /// 
        /// provider "azapi" {
        /// }
        /// 
        /// provider "azurerm" {
        ///   features {}
        /// }
        /// 
        /// resource "azurerm_resource_group" "example" {
        ///   name     = "example-rg"
        ///   location = "west europe"
        /// }
        /// 
        /// resource "azurerm_automation_account" "example" {
        ///   name                = "example-account"
        ///   resource_group_name = azurerm_resource_group.example.name
        ///   location            = azurerm_resource_group.example.location
        ///   sku_name            = "Basic"
        /// }
        /// 
        /// data "azapi_resource_action" "example" {
        ///   type                   = "Microsoft.Automation/automationAccounts@2021-06-22"
        ///   resource_id            = azurerm_automation_account.example.id
        ///   action                 = "listKeys"
        ///   response_export_values = ["*"]
        /// }
        /// ```
        /// 
        /// Here's an example to use the `azapi.ResourceAction` data source to get a provider's permissions.
        /// 
        /// ```hcl
        /// provider "azurerm" {
        ///   features {}
        /// }
        /// 
        /// data "azurerm_client_config" "current" {}
        /// 
        /// data "azapi_resource_action" "test" {
        ///   type        = "Microsoft.Resources/providers@2021-04-01"
        ///   resource_id = "/subscriptions/${data.azurerm_client_config.current.subscription_id}/providers/Microsoft.Network"
        ///   action      = "providerPermissions"
        ///   method      = "GET"
        /// }
        /// ```
        /// 
        /// Here's an example to use the `azapi.ResourceAction` data source to perform a provider action.
        /// 
        /// ```hcl
        /// terraform {
        ///   required_providers {
        ///     azapi = {
        ///       source = "Azure/azapi"
        ///     }
        ///   }
        /// }
        /// 
        /// resource "azapi_resource_action" "test" {
        ///   type        = "Microsoft.Cache@2023-04-01"
        ///   resource_id = "/subscriptions/85b3dbca-5974-4067-9669-67a141095a76/providers/Microsoft.Cache"
        ///   action      = "CheckNameAvailability"
        ///   body = jsonencode({
        ///     type = "Microsoft.Cache/Redis"
        ///     name = "cacheName"
        ///   })
        /// }
        /// ```
        /// </summary>
        public static Output<GetResourceActionResult> Invoke(GetResourceActionInvokeArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetResourceActionResult>("azapi:index/getResourceAction:getResourceAction", args ?? new GetResourceActionInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetResourceActionArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// The name of the resource action. It's also possible to make Http requests towards the resource ID if leave this field empty.
        /// </summary>
        [Input("action")]
        public string? Action { get; set; }

        /// <summary>
        /// A JSON object that contains the request body.
        /// </summary>
        [Input("body")]
        public string? Body { get; set; }

        /// <summary>
        /// Specifies the Http method of the azure resource action. Allowed values are `POST` and `GET`. Defaults to `POST`.
        /// </summary>
        [Input("method")]
        public string? Method { get; set; }

        /// <summary>
        /// The ID of an existing azure source.
        /// </summary>
        [Input("resourceId")]
        public string? ResourceId { get; set; }

        [Input("responseExportValues")]
        private List<string>? _responseExportValues;

        /// <summary>
        /// A list of path that needs to be exported from response body.
        /// Setting it to `["*"]` will export the full response body.
        /// Here's an example. If it sets to `["keys"]`, it will set the following json to computed property `output`.
        /// ```
        /// {
        /// "keys": [
        /// {
        /// "KeyName": "Primary",
        /// "Permissions": "Full",
        /// "Value": "nHGYNd******i4wdug=="
        /// },
        /// {
        /// "KeyName": "Secondary",
        /// "Permissions": "Full",
        /// "Value": "6yoCad******SLzKzg=="
        /// }
        /// ]
        /// }
        /// ```
        /// </summary>
        public List<string> ResponseExportValues
        {
            get => _responseExportValues ?? (_responseExportValues = new List<string>());
            set => _responseExportValues = value;
        }

        /// <summary>
        /// It is in a format like `&lt;resource-type&gt;@&lt;api-version&gt;`. `&lt;resource-type&gt;` is the Azure resource type, for example, `Microsoft.Storage/storageAccounts`.
        /// `&lt;api-version&gt;` is version of the API used to manage this azure resource.
        /// </summary>
        [Input("type", required: true)]
        public string Type { get; set; } = null!;

        public GetResourceActionArgs()
        {
        }
        public static new GetResourceActionArgs Empty => new GetResourceActionArgs();
    }

    public sealed class GetResourceActionInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// The name of the resource action. It's also possible to make Http requests towards the resource ID if leave this field empty.
        /// </summary>
        [Input("action")]
        public Input<string>? Action { get; set; }

        /// <summary>
        /// A JSON object that contains the request body.
        /// </summary>
        [Input("body")]
        public Input<string>? Body { get; set; }

        /// <summary>
        /// Specifies the Http method of the azure resource action. Allowed values are `POST` and `GET`. Defaults to `POST`.
        /// </summary>
        [Input("method")]
        public Input<string>? Method { get; set; }

        /// <summary>
        /// The ID of an existing azure source.
        /// </summary>
        [Input("resourceId")]
        public Input<string>? ResourceId { get; set; }

        [Input("responseExportValues")]
        private InputList<string>? _responseExportValues;

        /// <summary>
        /// A list of path that needs to be exported from response body.
        /// Setting it to `["*"]` will export the full response body.
        /// Here's an example. If it sets to `["keys"]`, it will set the following json to computed property `output`.
        /// ```
        /// {
        /// "keys": [
        /// {
        /// "KeyName": "Primary",
        /// "Permissions": "Full",
        /// "Value": "nHGYNd******i4wdug=="
        /// },
        /// {
        /// "KeyName": "Secondary",
        /// "Permissions": "Full",
        /// "Value": "6yoCad******SLzKzg=="
        /// }
        /// ]
        /// }
        /// ```
        /// </summary>
        public InputList<string> ResponseExportValues
        {
            get => _responseExportValues ?? (_responseExportValues = new InputList<string>());
            set => _responseExportValues = value;
        }

        /// <summary>
        /// It is in a format like `&lt;resource-type&gt;@&lt;api-version&gt;`. `&lt;resource-type&gt;` is the Azure resource type, for example, `Microsoft.Storage/storageAccounts`.
        /// `&lt;api-version&gt;` is version of the API used to manage this azure resource.
        /// </summary>
        [Input("type", required: true)]
        public Input<string> Type { get; set; } = null!;

        public GetResourceActionInvokeArgs()
        {
        }
        public static new GetResourceActionInvokeArgs Empty => new GetResourceActionInvokeArgs();
    }


    [OutputType]
    public sealed class GetResourceActionResult
    {
        public readonly string? Action;
        public readonly string? Body;
        /// <summary>
        /// The provider-assigned unique ID for this managed resource.
        /// </summary>
        public readonly string Id;
        public readonly string? Method;
        /// <summary>
        /// The output json containing the properties specified in `response_export_values`. Here are some examples to decode json and extract the value.
        /// ```hcl
        /// // it will output "nHGYNd******i4wdug=="
        /// output "primary_key" {
        /// value = jsondecode(azapi_resource_action.test.output).keys.0.Value
        /// }
        /// </summary>
        public readonly string Output;
        public readonly string? ResourceId;
        public readonly ImmutableArray<string> ResponseExportValues;
        public readonly string Type;

        [OutputConstructor]
        private GetResourceActionResult(
            string? action,

            string? body,

            string id,

            string? method,

            string output,

            string? resourceId,

            ImmutableArray<string> responseExportValues,

            string type)
        {
            Action = action;
            Body = body;
            Id = id;
            Method = method;
            Output = output;
            ResourceId = resourceId;
            ResponseExportValues = responseExportValues;
            Type = type;
        }
    }
}
